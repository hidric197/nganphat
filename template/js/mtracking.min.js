(function(){function e(n){var r=i.getItem(t),u;r?n(r):(u=new XMLHttpRequest,u.timeout=1e4,u.onreadystatechange=function(){this.readyState==4&&this.status==200&&(r=this.responseText,n(r),i.setItem(t,r))},u.open("GET","/api/tracking/clientid.aspx",!0),u.send())}function o(n){for(var t=0,r,i=0;i<n.length;i++)r=n.charCodeAt(i),t=(t<<5)-t+r|0;return t}function r(n,t){var u=n.tagName.toLowerCase(),f="",i,e;if((f=n.getAttribute("id"))&&(u+="#"+f),(f=n.getAttribute("class"))&&(u+="."+f.split(" ").join(".")),t>0)for(i=n.parentElement,e=0;e<t;e++){if(!i||i.tagName.toLowerCase()=="body")break;u=r(i,0)+">"+u;i=i.parentElement}return u}function s(){var n=(new Date).getTime(),t=performance&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var r=Math.random()*16;return n>0?(r=(n+r)%16|0,n=Math.floor(n/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),(i==="x"?r:r&3|8).toString(16)})}function u(n){var t=new XMLHttpRequest;t.timeout=1e4;t.open("POST",f);t.setRequestHeader("Content-Type","application/json;charset=UTF-8");t.send(JSON.stringify(n))}function h(t){var f=n.location.href,e=s(),i={type:"view",clientid:JSON.parse(t),guid:e,hash:o(f),url:f,timeutc:(new Date).toJSON(),referrer:"",click:""};n.referrer&&(i.referrer=n.referrer);screen&&(i.screen_width=screen.width,i.screen_height=screen.height,i.screen_color_depth=screen.colorDepth,i.screen_pixel_depth=screen.pixelDepth);window.mtracking_item=i;u(i);window.addEventListener("click",function(n){var t=window.mtracking_item;t.type="click";t.click=r(n.target,10);t.timeutc=(new Date).toJSON();u(t)},{passive:!0})}var n=window.document,t="mtracking.key",i=window.sessionStorage,f="https://tracking.nganphat.com.vn/collect.ashx";e(h)})();